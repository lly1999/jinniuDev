{"version":3,"file":"js/219.80924ed0.js","mappings":"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","sources":["webpack://jncsgj/./src/views/lzj/components/Hongxing.vue","webpack://jncsgj/./src/views/lzj/components/Hongxing.vue?9fcf"],"sourcesContent":["<template>\r\n    <el-container>\r\n        <el-header style=\"font-size:25px;padding:5px ;\">\r\n            <h5 class=\"card-title\" style=\"font-size:30px;padding:5px ;\">红星垃圾站数据统计</h5>\r\n        </el-header>\r\n        <el-main>\r\n            <div class=\"card-header\"></div>\r\n            <div class=\"card-body\">\r\n                <h5 class=\"card-title\" style=\"font-size:25px;padding:5px ;\">垃圾趋势统计</h5>\r\n                <div class=\"card-body\" style=\"padding:5px ;\">\r\n                    <!-- <dv-active-ring-chart :config=\"config_jgzm\" style=\"width:25vw;height: 20vh;\" /> -->\r\n                    <dv-charts :option=\"config_jgzm\" style=\"width:50vw;height: 30vh;\" />\r\n                </div>\r\n                <h5 class=\"card-title\" style=\"font-size:25px;padding:5px ;\">垃圾记录</h5>\r\n                <el-date-picker v-model=\"value\" type=\"daterange\" unlink-panels range-separator=\"到\"\r\n                    start-placeholder=\"选择开始时间\" end-placeholder=\"选择结束时间\" :shortcuts=\"shortcuts\" @change=\"changeDate\"\r\n                    size=\"large\" />\r\n                <!-- <el-button @click=\"excuteQuery\" size=\"large\" type=\"primary\" style=\"padding:20px\">查询</el-button> -->\r\n                <el-table :data=\"data\" :size=\"large\" width=\"100%\">\r\n                    <el-table-column property=\"exactDate\" label=\"处理时间\" width=\"200px\" />\r\n                    <el-table-column property=\"carNumber\" label=\"承运车辆\" width=\"150\" />\r\n                    <el-table-column property=\"netWeight\" label=\"垃圾净重/kg\" width=\"200\" />\r\n                    <el-table-column property=\"grossWeight\" label=\"垃圾毛重/kg\" width=\"200\" />\r\n                    <el-table-column property=\"tareWeight\" label=\"垃圾皮重/kg\" width=\"200\" />\r\n                    <el-table-column property=\"transporter\" label=\"承运单位\" width=\"300\" />\r\n\r\n\r\n\r\n                </el-table>\r\n            </div>\r\n            <div class=\"float-end\" style=\"margin-top: 10px\">\r\n                <el-pagination background layout=\"total, prev, pager, next, jumper\" :total=\"total_records\"\r\n                    :current-page=\"current_page\" @current-change=\"pull_page\" />\r\n            </div>\r\n\r\n        </el-main>\r\n    </el-container>\r\n\r\n\r\n</template>\r\n<script setup>\r\nimport { useRouter, useRoute } from \"vue-router\";\r\n\r\nimport { House, ArrowDown, Setting, Link } from \"@element-plus/icons-vue\";\r\nimport Header from \"@/components/Header.vue\";\r\nimport { ref, reactive, computed, onBeforeMount, onMounted } from \"vue\";\r\nimport axios from 'axios';\r\nimport MapContent from \"@/components/Mapcontent.vue\"\r\nimport { getQuery } from '@/api/garbage.js'\r\nconst value = ref('')\r\nconst shortcuts = [\r\n    {\r\n        text: '今天',\r\n        value: () => {\r\n            const end = new Date()\r\n            const start = new Date()\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n            return [today, tomorrow]\r\n        },\r\n    },\r\n    {\r\n        text: '过去一周',\r\n        value: () => {\r\n            const end = new Date()\r\n            const start = new Date()\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n            return [week_before, tomorrow]\r\n        },\r\n    },\r\n    {\r\n        text: '上个月',\r\n        value: () => {\r\n            const end = new Date()\r\n            const start = new Date()\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n            return [month_before, tomorrow]\r\n        },\r\n    },\r\n\r\n]\r\nfunction changeDate() {\r\n    start = value.value[0].getFullYear() + '-' + (value.value[0].getMonth() + 1) + '-' + value.value[0].getDate()\r\n    end = value.value[1].getFullYear() + '-' + (value.value[1].getMonth() + 1) + '-' + value.value[1].getDate()\r\n    getQuery('红星', 'transporter', start, end, 1, 10000).then(function (resp) {\r\n        total_records.value = resp.length\r\n\r\n        console.log(total_records.value = resp.length)\r\n        page_count = parseInt(resp.length) % 10;\r\n        // patrols.value.splice(0, patrols.value.length);\r\n        // total_records.value = parseInt(resp.total);\r\n        // page_count = parseInt(resp.data.data.pages);\r\n        // ifShowQueryResult.value = false;\r\n    })\r\n    getQuery('红星', 'transporter', start, end, 1, 10).then(function (resp) {\r\n\r\n        total_records.value = resp.length\r\n        page_count = parseInt(resp.length) % 10;\r\n        data.value = resp\r\n    })\r\n}\r\nvar time = (new Date).getTime();\r\nvar weekTime = new Date(time - 7 * 24 * 60 * 60 * 1000);\r\nvar month_time = new Date(time - 31 * 24 * 60 * 60 * 1000);\r\nconst week_before = weekTime.getFullYear() + '-' + (weekTime.getMonth() + 1) + '-' + weekTime.getDate()\r\nconst month_before = month_time.getFullYear() + '-' + (month_time.getMonth() + 1) + '-' + month_time.getDate()\r\n\r\nlet total_records = ref(1000);\r\nlet current_page = ref(1);\r\nlet page_count = 0;\r\nconst data = ref([])\r\nconst today = new Date().getFullYear() + '-' + (new Date().getMonth() + 1) + '-' + new Date().getDate()\r\nconst tomorrow = new Date().getFullYear() + '-' + (new Date().getMonth() + 1) + '-' + (new Date().getDate() + 1)\r\nvar start = today\r\nvar end = tomorrow\r\nconst total = ref(2)\r\nconst yAxis = ref([])\r\nonBeforeMount(() => {\r\n    getQuery('红星', 'transporter',\r\n        new Date(time - 6 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 6 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 6 * 24 * 60 * 60 * 1000).getDate(),\r\n        new Date(time - 5 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 5 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 5 * 24 * 60 * 60 * 1000).getDate(),\r\n        1,\r\n        10000).then(function (resp) {\r\n            total.value = 0;\r\n            for (let i = 0; i < resp.length; i++) {\r\n                total.value = resp[i].netWeight + total.value\r\n            }\r\n            total.value = Math.floor((total.value / 1000) * 100) / 100\r\n            yAxis.value.push(total.value)\r\n        })\r\n    getQuery('红星', 'transporter',\r\n        new Date(time - 5 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 5 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 5 * 24 * 60 * 60 * 1000).getDate(),\r\n        new Date(time - 4 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 4 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 4 * 24 * 60 * 60 * 1000).getDate(), 1, 10000).then(function (resp) {\r\n            total.value = 0;\r\n            for (let i = 0; i < resp.length; i++) {\r\n                total.value = resp[i].netWeight + total.value\r\n            }\r\n            total.value = Math.floor((total.value / 1000) * 100) / 100\r\n            yAxis.value.push(total.value)\r\n        })\r\n    getQuery('红星', 'transporter',\r\n        new Date(time - 4 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 4 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 4 * 24 * 60 * 60 * 1000).getDate(),\r\n        new Date(time - 3 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 3 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 3 * 24 * 60 * 60 * 1000).getDate(),\r\n        1, 10000).then(function (resp) {\r\n            total.value = 0;\r\n            for (let i = 0; i < resp.length; i++) {\r\n                total.value = resp[i].netWeight + total.value\r\n            }\r\n            total.value = Math.floor((total.value / 1000) * 100) / 100\r\n            yAxis.value.push(total.value)\r\n            // patrols.value.splice(0, patrols.value.length);\r\n            // total_records.value = parseInt(resp.total);\r\n            // page_count = parseInt(resp.data.data.pages);\r\n            // ifShowQueryResult.value = false;\r\n        })\r\n    getQuery('红星', 'transporter',\r\n        new Date(time - 3 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 3 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 3 * 24 * 60 * 60 * 1000).getDate(),\r\n        new Date(time - 2 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 2 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 2 * 24 * 60 * 60 * 1000).getDate(), 1, 10000).then(function (resp) {\r\n            total.value = 0;\r\n            for (let i = 0; i < resp.length; i++) {\r\n                total.value = resp[i].netWeight + total.value\r\n            }\r\n            total.value = Math.floor((total.value / 1000) * 100) / 100\r\n            console.log(total.value)\r\n            yAxis.value.push(total.value)\r\n\r\n            // patrols.value.splice(0, patrols.value.length);\r\n            // total_records.value = parseInt(resp.total);\r\n            // page_count = parseInt(resp.data.data.pages);\r\n            // ifShowQueryResult.value = false;\r\n        })\r\n    getQuery('红星', 'transporter',\r\n        new Date(time - 2 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 2 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 2 * 24 * 60 * 60 * 1000).getDate(),\r\n        new Date(time - 1 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 1 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 1 * 24 * 60 * 60 * 1000).getDate(), 1, 10000).then(function (resp) {\r\n            total.value = 0;\r\n            for (let i = 0; i < resp.length; i++) {\r\n                total.value = resp[i].netWeight + total.value\r\n            }\r\n            total.value = Math.floor((total.value / 1000) * 100) / 100\r\n            yAxis.value.push(total.value)\r\n\r\n            // patrols.value.splice(0, patrols.value.length);\r\n            // total_records.value = parseInt(resp.total);\r\n            // page_count = parseInt(resp.data.data.pages);\r\n            // ifShowQueryResult.value = false;\r\n        })\r\n    getQuery('红星', 'transporter',\r\n        new Date(time - 1 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 1 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 1 * 24 * 60 * 60 * 1000).getDate(),\r\n        new Date(time).getFullYear() + '-' + (new Date(time).getMonth() + 1) + '-' + new Date(time).getDate(),\r\n        1, 10000).then(function (resp) {\r\n            total.value = 0;\r\n            for (let i = 0; i < resp.length; i++) {\r\n                total.value = resp[i].netWeight + total.value\r\n            }\r\n            total.value = Math.floor((total.value / 1000) * 100) / 100\r\n            console.log(total.value)\r\n\r\n\r\n            yAxis.value.push(total.value)\r\n\r\n            // patrols.value.splice(0, patrols.value.length);\r\n            // total_records.value = parseInt(resp.total);\r\n            // page_count = parseInt(resp.data.data.pages);\r\n            // ifShowQueryResult.value = false;\r\n        })\r\n    getQuery('红星', 'transporter', today, tomorrow, 1, 10000).then(function (resp) {\r\n        total.value = 0;\r\n        for (let i = 0; i < resp.length; i++) {\r\n            total.value = resp[i].netWeight + total.value\r\n        }\r\n        total.value = Math.floor((total.value / 1000) * 100) / 100\r\n\r\n        yAxis.value.push(total.value)\r\n\r\n        total_records.value = resp.length\r\n        page_count = parseInt(resp.length) % 10;\r\n        // patrols.value.splice(0, patrols.value.length);\r\n        // total_records.value = parseInt(resp.total);\r\n        // page_count = parseInt(resp.data.data.pages);\r\n        // ifShowQueryResult.value = false;\r\n    })\r\n    getQuery('红星', 'transporter', today, tomorrow, 1, 10).then(function (resp) {\r\n\r\n        data.value = resp\r\n        // patrols.value.splice(0, patrols.value.length);\r\n        // total_records.value = parseInt(resp.total);\r\n        // page_count = parseInt(resp.data.data.pages);\r\n        // ifShowQueryResult.value = false;\r\n    })\r\n})\r\nconst pull_page = page => {\r\n\r\n    // Object.keys(patrolInfo).map(key => {\r\n    //     delete patrolInfo[key]\r\n    // });\r\n    current_page.value = page;\r\n    getQuery('红星', 'transporter', start, end, page, 10).then(function (resp) {\r\n        data.value = resp\r\n        ifShowQueryResult.value = false;\r\n    })\r\n}\r\n\r\nconst config_jgzm = reactive({\r\n    title: {\r\n        text: '过去一周垃圾趋势'\r\n    },\r\n    xAxis: {\r\n        name: '日期',\r\n        data: [\r\n            new Date(time - 6 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 6 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 6 * 24 * 60 * 60 * 1000).getDate(),\r\n            new Date(time - 5 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 5 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 5 * 24 * 60 * 60 * 1000).getDate(),\r\n            new Date(time - 4 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 4 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 4 * 24 * 60 * 60 * 1000).getDate(),\r\n            new Date(time - 3 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 3 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 3 * 24 * 60 * 60 * 1000).getDate(),\r\n            new Date(time - 2 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 2 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 2 * 24 * 60 * 60 * 1000).getDate(),\r\n            new Date(time - 1 * 24 * 60 * 60 * 1000).getFullYear() + '-' + (new Date(time - 1 * 24 * 60 * 60 * 1000).getMonth() + 1) + '-' + new Date(time - 1 * 24 * 60 * 60 * 1000).getDate(),\r\n            today,\r\n        ]\r\n    },\r\n    yAxis: {\r\n        name: '垃圾净重',\r\n        data: 'value',\r\n        min: 0,\r\n        interval: 200,\r\n    },\r\n    series: [\r\n        {\r\n            data: yAxis,\r\n            type: 'bar', label: {\r\n                show: true,\r\n                formatter: '{value} 吨'\r\n            }\r\n        }\r\n    ]\r\n})\r\n</script>","import script from \"./Hongxing.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Hongxing.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["value","ref","shortcuts","text","Date","start","setTime","getTime","today","tomorrow","week_before","month_before","changeDate","getFullYear","getMonth","getDate","end","getQuery","then","resp","total_records","length","console","log","page_count","parseInt","data","time","weekTime","month_time","current_page","total","yAxis","onBeforeMount","i","netWeight","Math","floor","push","pull_page","page","ifShowQueryResult","config_jgzm","reactive","title","xAxis","name","min","interval","series","type","label","show","formatter","__exports__"],"sourceRoot":""}